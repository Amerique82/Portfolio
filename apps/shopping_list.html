<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Shopping List</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #fef5f0 0%, #fff9f4 100%);
            padding: 2rem;
            color: #4a4a4a;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: 0 8px 30px rgba(0,0,0,0.08);
        }

        .header {
            background: linear-gradient(135deg, #f8d4e0 0%, #fce4ec 100%);
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
        }

        .header h1 {
            color: #d81b60;
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .header-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 1.5rem;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-group label {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #c2185b;
        }

        .input-group input {
            padding: 1rem;
            font-size: 1.1rem;
            border: 3px solid #f8bbd0;
            border-radius: 10px;
            background: white;
            transition: all 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: #d81b60;
            box-shadow: 0 0 0 3px rgba(216, 27, 96, 0.1);
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .category {
            background: #fffbf0;
            border: 3px solid #fff4e0;
            border-radius: 15px;
            padding: 1.5rem;
        }

        .category h2 {
            color: #f57c00;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid #ffe0b2;
        }

        .item-row {
            display: grid;
            grid-template-columns: 40px 60px 1fr auto;
            gap: 1rem;
            align-items: center;
            padding: 1rem;
            background: white;
            border-radius: 10px;
            margin-bottom: 0.8rem;
            border: 2px solid transparent;
            transition: all 0.2s;
        }

        .item-row:hover {
            border-color: #ffcc80;
            box-shadow: 0 2px 8px rgba(245, 124, 0, 0.1);
        }

        .item-row.checked {
            opacity: 0.6;
            background: #f5f5f5;
        }

        .checkbox {
            width: 30px;
            height: 30px;
            cursor: pointer;
            accent-color: #d81b60;
        }

        .quantity-input {
            width: 100%;
            padding: 0.8rem;
            font-size: 1.3rem;
            text-align: center;
            border: 3px solid #ffe0b2;
            border-radius: 8px;
            font-weight: 600;
            color: #f57c00;
        }

        .quantity-input:focus {
            outline: none;
            border-color: #ff9800;
            box-shadow: 0 0 0 3px rgba(245, 124, 0, 0.1);
        }

        .item-input {
            padding: 0.8rem;
            font-size: 1.1rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            flex: 1;
        }

        .item-input:focus {
            outline: none;
            border-color: #ff9800;
        }

        .delete-btn {
            background: #ffebee;
            color: #d81b60;
            border: none;
            padding: 0.8rem 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.2s;
        }

        .delete-btn:hover {
            background: #f8bbd0;
            transform: scale(1.05);
        }

        .add-item-btn {
            background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
            color: #f57c00;
            border: 3px solid #ffe0b2;
            padding: 1rem;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 700;
            width: 100%;
            margin-top: 0.5rem;
            transition: all 0.2s;
        }

        .add-item-btn:hover {
            background: linear-gradient(135deg, #fff59d 0%, #ffeb3b 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(245, 124, 0, 0.2);
        }

        .actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 1.2rem 2.5rem;
            font-size: 1.2rem;
            font-weight: 700;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            min-width: 200px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #d81b60 0%, #c2185b 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(216, 27, 96, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(216, 27, 96, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(245, 124, 0, 0.3);
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(245, 124, 0, 0.4);
        }

        .btn-tertiary {
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 100%);
            color: #d81b60;
            border: 3px solid #f8bbd0;
        }

        .btn-tertiary:hover {
            background: linear-gradient(135deg, #f8bbd0 0%, #f48fb1 100%);
            transform: translateY(-2px);
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }

            .container {
                box-shadow: none;
                padding: 1rem;
            }

            .actions {
                display: none;
            }

            .delete-btn {
                display: none;
            }

            .add-item-btn {
                display: none;
            }

            .item-input {
                border: none;
                border-bottom: 1px solid #ddd;
            }

            .quantity-input {
                border: 1px solid #ddd;
            }

            .category {
                break-inside: avoid;
                page-break-inside: avoid;
            }
        }

        @media (max-width: 768px) {
            .header-inputs {
                grid-template-columns: 1fr;
            }

            .categories {
                grid-template-columns: 1fr;
            }

            .item-row {
                grid-template-columns: 35px 50px 1fr auto;
                gap: 0.5rem;
            }

            .actions {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üõí My Shopping List</h1>
            <div class="header-inputs">
                <div class="input-group">
                    <label for="listName">List Name:</label>
                    <input type="text" id="listName" placeholder="e.g. Weekly Shopping">
                </div>
                <div class="input-group">
                    <label for="listDate">Date:</label>
                    <input type="date" id="listDate">
                </div>
                <div class="input-group">
                    <label for="store">Shop/Store:</label>
                    <input type="text" id="store" placeholder="e.g. Tesco">
                </div>
            </div>
        </div>

        <div class="categories" id="categoriesContainer">
            <!-- Categories will be added here by JavaScript -->
        </div>

        <div class="actions">
            <button class="btn btn-primary" onclick="printList()">üñ®Ô∏è Print List</button>
            <button class="btn btn-secondary" onclick="saveList()">üíæ Save List</button>
            <button class="btn btn-tertiary" onclick="clearList()">üóëÔ∏è Clear All</button>
        </div>
    </div>

    <script>
        const categories = [
            { name: 'Fruit & Veg', icon: 'ü•¨' },
            { name: 'Meat & Fish', icon: 'ü•©' },
            { name: 'Dairy & Eggs', icon: 'ü•õ' },
            { name: 'Bread & Bakery', icon: 'ü•ñ' },
            { name: 'Pantry', icon: 'ü•´' },
            { name: 'Frozen', icon: 'üßä' },
            { name: 'Drinks', icon: 'ü•§' },
            { name: 'Cleaning', icon: 'üßπ' },
            { name: 'Personal Care', icon: 'üß¥' },
            { name: 'Other', icon: 'üì¶' }
        ];

        function initializeApp() {
            const container = document.getElementById('categoriesContainer');
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('listDate').value = today;

            categories.forEach((category, categoryIndex) => {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category';
                categoryDiv.innerHTML = `
                    <h2>${category.icon} ${category.name}</h2>
                    <div id="category-${categoryIndex}">
                        ${createItemRow(categoryIndex, 0)}
                    </div>
                    <button class="add-item-btn" onclick="addItem(${categoryIndex})">+ Add Item</button>
                `;
                container.appendChild(categoryDiv);
            });

            loadList();
        }

        function createItemRow(categoryIndex, itemIndex) {
            return `
                <div class="item-row" id="item-${categoryIndex}-${itemIndex}">
                    <input type="checkbox" class="checkbox" onchange="toggleItem(${categoryIndex}, ${itemIndex})">
                    <input type="number" class="quantity-input" placeholder="0" min="0" value="1">
                    <input type="text" class="item-input" placeholder="Type here...">
                    <button class="delete-btn" onclick="deleteItem(${categoryIndex}, ${itemIndex})">‚úï</button>
                </div>
            `;
        }

        function addItem(categoryIndex) {
            const categoryDiv = document.getElementById(`category-${categoryIndex}`);
            const itemCount = categoryDiv.children.length;
            const newItem = document.createElement('div');
            newItem.innerHTML = createItemRow(categoryIndex, itemCount);
            categoryDiv.appendChild(newItem.firstElementChild);
        }

        function deleteItem(categoryIndex, itemIndex) {
            const item = document.getElementById(`item-${categoryIndex}-${itemIndex}`);
            if (item) {
                item.remove();
            }
        }

        function toggleItem(categoryIndex, itemIndex) {
            const item = document.getElementById(`item-${categoryIndex}-${itemIndex}`);
            if (item) {
                item.classList.toggle('checked');
            }
        }

        function printList() {
            window.print();
        }

        function saveList() {
            const listData = {
                name: document.getElementById('listName').value,
                date: document.getElementById('listDate').value,
                store: document.getElementById('store').value,
                items: []
            };

            categories.forEach((category, categoryIndex) => {
                const categoryDiv = document.getElementById(`category-${categoryIndex}`);
                const items = categoryDiv.querySelectorAll('.item-row');
                
                items.forEach(item => {
                    const checkbox = item.querySelector('.checkbox');
                    const quantity = item.querySelector('.quantity-input');
                    const text = item.querySelector('.item-input');
                    
                    if (text.value.trim()) {
                        listData.items.push({
                            category: category.name,
                            checked: checkbox.checked,
                            quantity: quantity.value,
                            text: text.value
                        });
                    }
                });
            });

            localStorage.setItem('shoppingList', JSON.stringify(listData));
            alert('List saved successfully! ‚úÖ');
        }

        function loadList() {
            const saved = localStorage.getItem('shoppingList');
            if (!saved) return;

            const listData = JSON.parse(saved);
            document.getElementById('listName').value = listData.name || '';
            document.getElementById('listDate').value = listData.date || '';
            document.getElementById('store').value = listData.store || '';

            listData.items.forEach(savedItem => {
                const categoryIndex = categories.findIndex(c => c.name === savedItem.category);
                if (categoryIndex === -1) return;

                const categoryDiv = document.getElementById(`category-${categoryIndex}`);
                const itemCount = categoryDiv.children.length;
                
                addItem(categoryIndex);
                
                const newItem = categoryDiv.children[itemCount];
                newItem.querySelector('.checkbox').checked = savedItem.checked;
                newItem.querySelector('.quantity-input').value = savedItem.quantity;
                newItem.querySelector('.item-input').value = savedItem.text;
                
                if (savedItem.checked) {
                    newItem.classList.add('checked');
                }
            });
        }

        function clearList() {
            if (confirm('Are you sure you want to clear the entire list?')) {
                localStorage.removeItem('shoppingList');
                location.reload();
            }
        }

        // Initialize the app when the page loads
        window.onload = initializeApp;
    </script>
</body>
</html>
